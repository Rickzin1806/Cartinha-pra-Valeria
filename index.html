<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Carta CinemÃ¡tica</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Pacifico&display=swap');

body {
    margin:0; padding:0;
    font-family: 'Pacifico', cursive;
    overflow: hidden;
    background: linear-gradient(135deg,#ff9a9e,#fad0c4);
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    color:#fff;
}

/* PartÃ­culas de fundo */
.particles {
    position: fixed; width:100%; height:100%;
    top:0; left:0; z-index:0;
}

/* Container principal */
.container {
    position: relative;
    text-align: center;
    max-width: 600px;
    z-index:2;
    perspective: 1500px;
}

/* Envelope */
.envelope-container {
    width: 300px; height:200px;
    position: relative; cursor:pointer;
    margin: 20px auto;
}

.envelope, .envelope-opened {
    width:100%; height:100%;
    border-radius:15px;
    box-shadow:0 5px 15px rgba(0,0,0,0.3);
    transition: all 0.5s ease;
    position:absolute;
    top:0; left:0;
}

.envelope-opened { display:none; }

/* Folha branca */
/* Retira blur da folha */
.sheet {
    display:none;
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    background:#fff;
    z-index:100; /* acima de tudo */
    padding:30px;
    box-sizing:border-box;
    overflow-y:auto;
    color:#333;
    filter: none; /* garante que nÃ£o fique borrada */
}

/* Fundo embaÃ§ado */
.blur-background {
    filter: blur(10px) brightness(0.7);
}

/* Livro */
.book {
    display:none;
    transform-style: preserve-3d;
    z-index:3;
}

.page {
    display:none;
    margin-top:20px;
    padding:25px;
    background: rgba(0,0,0,0.3);
    border-radius:15px;
    box-shadow:0 0 20px rgba(0,0,0,0.5);
    transition: transform 0.8s ease;
}

.page img {
    max-width:100%; border-radius:10px;
    margin-top:15px;
}

.page.visible {
    display:block;
    animation: fadeIn 0.8s ease;
}

@keyframes fadeIn {
    0% {opacity:0; transform:translateY(20px);}
    100% {opacity:1; transform:translateY(0);}
}

.decor {
    font-size:2em; color:#ffd1dc;
}

/* Final */
.final {
    display:none;
    animation: fadeIn 1s ease forwards;
}

.final img { max-width:200px; border-radius:50%; margin-top:15px; }
.author { margin-top:10px; font-style:italic; font-size:1.2em; }

/* BotÃµes */
button {
    padding:10px 20px;
    font-size:1em;
    border:none;
    border-radius:10px;
    cursor:pointer;
    background-color:#ff6b81;
    color:#fff;
    margin-top:15px;
    transition:0.3s;
}
button:hover { background-color:#fff; color:#ff6b81; }
</style>
</head>
<body>

<!-- PartÃ­culas -->
<canvas class="particles" id="particles"></canvas>

<div class="container" id="mainContainer">

    <!-- IntroduÃ§Ã£o / Envelope -->
    <div class="intro">
        <h1>Eu quero mandar isso pra vocÃª para entender tudo de vez ðŸ’Œ</h1>
        <div class="envelope-container" id="envelopeContainer">
            <img src="carta.capa.png" alt="Envelope fechado" class="envelope" id="envelope">
            <img src="cartra.aberta.png" alt="Envelope aberto" class="envelope-opened" id="envelopeOpened">
        </div>
        <p>Clique no envelope para abrir a carta.</p>
    </div>

    <!-- Folha branca -->
    <div class="sheet" id="sheet">
        <h2>ðŸ“„ Folha em branco</h2>
        <p>Aqui vocÃª pode colocar qualquer texto, desenho ou mensagem inicial que quiser.</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <button id="startBook">Ler a outra carta â†’</button>
    </div>

    <!-- Livro de 4 pÃ¡ginas -->
    <div class="book" id="book">
        <div class="page visible" id="page1">
            <div class="decor">ðŸŒ¸ðŸŒ¸ðŸŒ¸</div>
            <p>PÃ¡gina 1: Mensagem fofo/romÃ¢ntica inicial.</p>
            <img src="https://via.placeholder.com/400x200" alt="Foto 1">
            <button onclick="nextPage(2)">PrÃ³xima pÃ¡gina â†’</button>
        </div>
        <div class="page" id="page2">
            <div class="decor">ðŸŒ¼ðŸŒ¼ðŸŒ¼</div>
            <p>PÃ¡gina 2: LembranÃ§as e carinho.</p>
            <img src="https://via.placeholder.com/400x200" alt="Foto 2">
            <button onclick="nextPage(3)">PrÃ³xima pÃ¡gina â†’</button>
        </div>
        <div class="page" id="page3">
            <div class="decor">ðŸ’–ðŸ’–ðŸ’–</div>
            <p>PÃ¡gina 3: Mais sentimentos e momentos especiais.</p>
            <img src="https://via.placeholder.com/400x200" alt="Foto 3">
            <button onclick="nextPage(4)">PrÃ³xima pÃ¡gina â†’</button>
        </div>
        <div class="page" id="page4">
            <div class="decor">âœ¨âœ¨âœ¨</div>
            <p>PÃ¡gina 4: Mensagem final impactante se aproximando...</p>
            <img src="https://via.placeholder.com/400x200" alt="Foto 4">
            <button onclick="showFinal()">Finalizar</button>
        </div>
    </div>

    <!-- Final -->
    <div class="final" id="final">
        <h1>ðŸ’Œ E lembre-se sempre...</h1>
        <p>"O que sentimos nÃ£o precisa ser dito, mas precisa ser vivido."</p>
        <img src="https://via.placeholder.com/150" alt="Foto final">
        <div class="author">â€” Henrique</div>
    </div>

</div>

<!-- MÃºsica de fundo -->
<audio id="bgMusic" loop autoplay>
    <source src="https://www.bensound.com/bensound-music/bensound-slowmotion.mp3" type="audio/mpeg">
</audio>

<script>
// Envelope â†’ Folha
const envelope = document.getElementById('envelope');
const envelopeOpened = document.getElementById('envelopeOpened');
const sheet = document.getElementById('sheet');
const mainContainer = document.getElementById('mainContainer');
const startBookBtn = document.getElementById('startBook');
const book = document.getElementById('book');
const final = document.getElementById('final');

envelope.addEventListener('click', ()=>{
    envelope.style.display='none';
    envelopeOpened.style.display='block';
});

// Envelope â†’ Folha
envelopeOpened.addEventListener('click', ()=>{
    sheet.style.display='block';
    mainContainer.classList.add('blur-background'); // apenas fundo fica borrado
});

// Folha â†’ Livro
startBookBtn.addEventListener('click', ()=>{
    sheet.style.display='none';
    mainContainer.classList.remove('blur-background');
    book.style.display='block';
});

// Livro
function nextPage(num){
    document.querySelectorAll('.page').forEach(p=>p.classList.remove('visible'));
    document.getElementById('page'+num).classList.add('visible');
}

// Final
function showFinal(){
    book.style.display='none';
    final.style.display='block';
}

// PartÃ­culas simples
const canvas = document.getElementById('particles');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
const particles = [];
for(let i=0;i<100;i++){
    particles.push({x:Math.random()*canvas.width, y:Math.random()*canvas.height, r: Math.random()*3+1, d: Math.random()*2});
}
function drawParticles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.fillStyle="rgba(255,255,255,0.7)";
    ctx.beginPath();
    for(let i=0;i<particles.length;i++){
        let p = particles[i];
        ctx.moveTo(p.x,p.y);
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2,true);
    }
    ctx.fill();
    updateParticles();
}
function updateParticles(){
    for(let i=0;i<particles.length;i++){
        let p=particles[i];
        p.y += Math.sin(p.d)+0.5;
        p.x += Math.cos(p.d);
        if(p.y>canvas.height) p.y=0;
        if(p.x>canvas.width) p.x=0;
    }
    requestAnimationFrame(drawParticles);
}
drawParticles();
</script>

</body>
</html>
